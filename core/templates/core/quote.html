{% extends "core/base.html" %}
{% block title %}Teklif Al | VM Bilgisayar{% endblock %}

{% block content %}
<h1 class="h3 fw-bold mb-3">Teklif Al</h1>

{% if messages %}
  <div class="mt-3">
    {% for m in messages %}
      <div class="alert alert-{{ m.tags }}">{{ m }}</div>
    {% endfor %}
  </div>
{% endif %}

<div class="row g-3">
  <div class="col-lg-10">
    <div class="bg-white border rounded-3 p-4">

      <div class="fw-semibold mb-2">Teklif Talep Formu</div>

      <form method="post" novalidate>
        {% csrf_token %}

        <!-- HİZMETLER (YAN YANA / GRID) -->
        <div class="mb-3">
          <label class="form-label">Hizmetler</label>

          <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-2">
            {% for cb in form.services %}
              <div class="col">
                <div class="form-check border rounded-2 px-3 py-2 h-100">
                  {{ cb.tag }}
                  <label class="form-check-label ms-1" for="{{ cb.id_for_label }}">
                    {{ cb.choice_label }}
                  </label>
                </div>
              </div>
            {% endfor %}
          </div>

          {% if form.services.errors %}
            <div class="text-danger small mt-1">{{ form.services.errors|striptags }}</div>
          {% endif %}
        </div>

        <!-- Ad Soyad -->
        <div class="mb-3">
          <label class="form-label">Ad Soyad</label>
          {{ form.name }}
          {% if form.name.errors %}<div class="text-danger small">{{ form.name.errors|striptags }}</div>{% endif %}
        </div>

        <!-- Telefon -->
        <div class="mb-3">
          <label class="form-label">Telefon</label>
          {{ form.phone }}
          {% if form.phone.errors %}<div class="text-danger small">{{ form.phone.errors|striptags }}</div>{% endif %}
        </div>

        <!-- E-posta -->
        <div class="mb-3">
          <label class="form-label">E-posta</label>
          {{ form.email }}
          {% if form.email.errors %}<div class="text-danger small">{{ form.email.errors|striptags }}</div>{% endif %}
        </div>

        <!-- Açıklama -->
        <div class="mb-3">
          <label class="form-label">Açıklama (opsiyonel)</label>
          {{ form.message }}
          {% if form.message.errors %}<div class="text-danger small">{{ form.message.errors|striptags }}</div>{% endif %}
        </div>

        <button type="submit" class="btn btn-dark w-100">Gönder</button>
      </form>

      <script>
        // input/textarea/select -> form-control
        document.querySelectorAll('input:not([type="checkbox"]):not([type="hidden"]), textarea, select')
          .forEach(el => el.classList.add("form-control"));

        // checkbox -> form-check-input
        document.querySelectorAll('input[type="checkbox"]')
          .forEach(el => el.classList.add("form-check-input"));
      </script>

    </div>
  </div>
</div>
{% endblock %}

